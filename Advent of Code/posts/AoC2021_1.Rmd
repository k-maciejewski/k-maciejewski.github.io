---
title: "Advent of Code 2021: Day 1"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = F, message = F, warning = F)
library(tidyverse)
library(rvest)
library(httr)
cookie <- read.csv(here::here("content/Advent of Code/posts/cookie.csv"))
```

`r read_html("https://adventofcode.com/2021/day/1") %>% 
  html_element(".day-desc") %>% 
  paste(collapse = '\n') `
  
```{r}
input <- GET("https://adventofcode.com/2021/day/1/input", 
           set_cookies(`_ga`=cookie$Input[1], 
                         `_gid`=cookie$Input[2],
                         `session`=cookie$Input[3]))

input_text <- content(input, "text") %>% 
  read_lines() %>% 
  as.array() %>% 
  as.numeric()
```

# Part 1 solution
```{r, echo = T}
# How many measurements are larger than the previous measurement?
solution_1 <- sum((input_text - lag(input_text, default = 0)) > 0)

x <- data.frame(diff(as.matrix(input_text))) 

y <- which(x > 0)

solution_1 <- length(y)
```

There are `r solution_1` measurements larger than the previous measurement

```{r, eval = T}
part2 <- GET("https://adventofcode.com/2021/day/1#part2", 
           set_cookies(`_ga`=cookie$Input[1], 
                         `_gid`=cookie$Input[2],
                         `session`=cookie$Input[3]))
```

`r read_html(part2) %>% 
  html_element("p + .day-desc") %>% 
  paste(collapse = '\n')`

# Part 2 solution

Number of sums greater than previous, using window of 3

Since numbers repeat, this is the same as comparing lag of 3 (ex in above example: 119 > 210, 200 = 200)

```{r, echo = T}
solution_2 <- sum((input_text - lag(input_text, n = 3)) > 0, na.rm = T)
```

`r solution_2` sums are larger than the previous sum